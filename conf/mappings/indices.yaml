
indices:
  - name: daily_pr_intensity
    function: xclim.indices.daily_pr_intensity
    variables: [pr]
    args:
      thresh: "10 mm/day"
      freq: "YS"
      op: ">="
  - name: Rx1day
    function: xclim.indices.max_n_day_precipitation_amount
    variables: [pr]
    args:
      window: 1
      freq: "YS"
  - name: Rx3day
    function: xclim.indices.max_n_day_precipitation_amount
    variables: [pr]
    args:
      window: 3
      freq: "YS"
  - name: dry_days
    function: xclim.indices.dry_days
    variables: [pr]
    args:
      thresh: "0.2 mm/d"
      freq: "YS"
      op: "<"
  - name: dry_spell_frequency
    function: xclim.indices.dry_spell_frequency
    variables: [pr]
    args:
      thresh: "1.0 mm"
      window: 3
      freq: "YS"
      resample_before_rl: true
      op: "sum"
  - name: dry_spell_max_length
    function: xclim.indices.dry_spell_max_length
    variables: [pr]
    args:
      thresh: "1.0 mm"
      window: 3
      freq: "YS"
      resample_before_rl: true
      op: "sum"
  - name: dry_spell_total_length
    function: xclim.indices.dry_spell_total_length
    variables: [pr]
    args:
      thresh: "1.0 mm"
      window: 3
      freq: "YS"
      resample_before_rl: true
      op: "sum"
  - name: r75p
    function: xclim.indices.days_over_precip_thresh
    variables: [pr, p75]
    args:
      freq: 'YS'
    preprocess:
      quantiles:
        p75:
          input: pr
          operation: quantile
          kwargs:
            q: 0.75
            dim: time
            keep_attrs: true
  - name: f75p
    function: xclim.indices.fraction_over_precip_thresh
    variables: [pr, p75]
    args:
      freq: 'YS'
    preprocess:
      quantiles:
        p75:
          input: pr
          operation: quantile
          kwargs:
            q: 0.75
            dim: time
            keep_attrs: true
  - name: max_cdd
    function: xclim.indices.maximum_consecutive_dry_days
    variables: [pr]
    args:
      freq: 'YS'
      thresh: '1 mm/day'
  - name: max_cwd
    function: xclim.indices.maximum_consecutive_wet_days
    variables: [pr]
    args:
      freq: 'YS'
      thresh: '1 mm/day'
  - name: prcptot
    function: xclim.indices.prcptot
    variables: [pr]
    args:
      freq: 'YS'
      thresh: '0 mm/day'
  - name: precip_seasonality
    function: xclim.indices.precip_seasonality
    variables: [pr]
    args:
      freq: 'YS'
  # - name: SPI1
  #   function: xclim.indices.standardized_precipitation_index
  #   variables: [pr]
  #   args:
  #     freq: 'MS'
  #     window: 1
  #     dist: 'gamma'
  # - name: SPI3
  #   function: xclim.indices.standardized_precipitation_index
  #   variables: [pr]
  #   args:
  #     freq: 'MS'
  #     window: 3
  #     dist: 'gamma'
  # - name: SPI6
  #   function: xclim.indices.standardized_precipitation_index
  #   variables: [pr]
  #   args:
  #     freq: 'MS'
  #     window: 6
  #     dist: 'gamma'
  - name: wet_spell_frequency
    function: xclim.indices.wet_spell_frequency
    variables: [pr]
    args:
      freq: 'YS'
      window: 3
      thresh: '10.0 mm'
      op: 'sum'
  - name: wet_spell_max_length
    function: xclim.indices.wet_spell_max_length
    variables: [pr]
    args:
      freq: 'YS'
      window: 3
      thresh: '10.0 mm'
      op: 'sum'
  - name: wet_spell_total_length
    function: xclim.indices.wet_spell_total_length
    variables: [pr]
    args:
      freq: 'YS'
      window: 3
      thresh: '10.0 mm'
      op: 'sum'
  - name: wetdays
    function: xclim.indices.wetdays
    variables: [pr]
    args:
      freq: 'YS'
      thresh: '3.0 mm/day'
      op: '>='
  - name: wetdays_prop
    function: xclim.indices.wetdays_prop
    variables: [pr]
    args:
      freq: 'YS'
      thresh: '3.0 mm/day'
      op: '>='
  - name: heat_wave_index
    function: xclim.indices.heat_wave_index
    variables: [tasmax]
    args:
      freq: 'YS'
      thresh: '25 degC'
      window: 5
  - name: heat_wave_frequency
    function: xclim.indices.heat_wave_frequency
    variables: [tasmin, tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: heat_wave_max_length
    function: xclim.indices.heat_wave_max_length
    variables: [tasmin, tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: heat_wave_total_length
    function: xclim.indices.heat_wave_total_length
    variables: [tasmin, tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: heating_degree_days
    function: xclim.indices.heating_degree_days
    variables: [tas]
    args:
      freq: 'YS'
      thresh: '17 degC'
  - name: hot_spell_frequency
    function: xclim.indices.hot_spell_frequency
    variables: [tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: hot_spell_max_length
    function: xclim.indices.hot_spell_max_length
    variables: [tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: hot_spell_total_length
    function: xclim.indices.hot_spell_total_length
    variables: [tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: hot_spell_max_magnitude
    function: xclim.indices.hot_spell_max_magnitude
    variables: [tasmax]
    args:
      freq: 'YS'
      window: 3
  - name: huglin_index
    function: xclim.indices.huglin_index
    variables: [tas, tasmax]
    args:
      freq: 'YS'
  - name: ice_days
    function: xclim.indices.ice_days
    variables: [tasmax]
    args:
      freq: 'YS'
      thresh: '0 degC'
  - name: isothermality
    function: xclim.indices.isothermality
    variables: [tasmin, tasmax]
    args:
      freq: 'YS'
  - name: keetch_byram_drought_index
    function: xclim.indices.keetch_byram_drought_index
    variables: [pr, tasmax, pr_annual]
    args:
      freq: 'YS'
    preprocess:
      annual:
        pr_annual:
          input: pr
          operation: resample
          kwargs:
            dim: time
            keep_attrs: true
          aggregation: sum
  - name: maximum_consecutive_frost_days
    function: xclim.indices.maximum_consecutive_frost_days
    variables: [tasmin]
    args:
      freq: 'YS'
      thresh: '0 degC'
  - name: maximum_consecutive_frost_free_days
    function: xclim.indices.maximum_consecutive_frost_free_days
    variables: [tasmin]
    args:
      freq: 'YS'
      thresh: '0 degC'
  - name: maximum_consecutive_tx_days
    function: xclim.indices.maximum_consecutive_tx_days
    variables: [tasmax]
    args:
      freq: 'YS'
      thresh: '25 degC'
  - name: temperature_seasonality
    function: xclim.indices.temperature_seasonality
    variables: [tas]
    args:
      freq: 'YS'
  - name: tg_10p
    function: xclim.indices.tg_10p
    variables: [tas, tas_per]
    args:
      freq: 'YS'
    preprocess:
      quantiles:
        tas_per:
          input: tas
          operation: quantile
          kwargs:
            q: 0.10
            dim: time
            keep_attrs: true
  - name: tg_90p
    function: xclim.indices.tg_90p
    variables: [tas,tas_per]
    args:
      freq: 'YS'
    preprocess:
      quantiles:
        tas_per:
          input: tas
          operation: quantile
          kwargs:
            q: 0.90
            dim: time
            keep_attrs: true 
  - name: tg_days_above_10degC
    function: xclim.indices.tg_days_above
    variables: [tas]
    args:
      freq: 'YS'
      thresh: '10 degC'
      op: '>='
  - name: tg_days_below_10degC
    function: xclim.indices.tg_days_below
    variables: [tas]
    args:
      freq: 'YS'
      thresh: '10 degC'
      op: '<='
  - name: warmest_quarter
    function: xclim.indices.tg_mean_warmcold_quarter
    variables: [tas]
    args:
      op: warmest
      freq: YS
  - name: coldest_quarter
    function: xclim.indices.tg_mean_warmcold_quarter
    variables: [tas]
    args:
      op: coldest
      freq: YS
  - name: tn10p
    function: xclim.indices.tn_10p
    variables: [tasmin, tasmin_per]
    args:
      freq: 'YS'
    preprocess:
      quantiles:
        tasmin_per:
          input: tasmin
          operation: quantile
          kwargs:
            q: 0.10
            dim: time
            keep_attrs: true
